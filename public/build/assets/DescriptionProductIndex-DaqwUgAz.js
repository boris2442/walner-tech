import{d as V,y as v,c as T,G as F,a as d,f as M,g as c,e as i,u as p,h as j,w as f,b as t,t as r,H as z,I as A,o as l,A as h,j as b,F as _,z as B,J as I}from"./app-BigJ7tdX.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-enZ54RAD.js";import{_ as N}from"./BackButton-C21Oiyb9.js";import{F as P}from"./FlashMessageFrontend-NKvlbeHd.js";import{d as Y}from"./index-BdvXPHPK.js";import{d as E}from"./dayjs.min-B6gOd5tU.js";import{S as H,T as q}from"./trash-TeYSlUxE.js";import"./index-Cn6ZYd1c.js";import"./useForwardExpose-DCsBqhPf.js";import"./VisuallyHidden-G2lYgh_E.js";import"./RovingFocusGroup-9-ke9Qyn.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-C3-Gi7Pr.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CRsIALfm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex flex-col gap-4 p-4"},J={class:"relative min-h-[80vh] flex-1 rounded-xl border p-6"},O={class:"grid gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4"},U={class:"kpi-card"},W={class:"kpi-text"},K={class:"kpi-card"},Q={class:"kpi-text"},R={class:"kpi-card"},X={class:"kpi-text"},Z={class:"relative border rounded-xl min-h-[50vh]"},tt={class:"flex flex-col md:flex-row gap-4 mb-4 p-2"},et={class:"relative w-full"},st={class:"relative"},ot={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border rounded shadow-lg z-50"},it={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},rt={class:"font-bold text-lg mb-2"},lt={class:"text-gray-700 dark:text-gray-300 text-sm mb-2"},at=["onClick"],nt={class:"text-xs"},dt={class:"text-xs"},ut={class:"absolute bottom-2 right-2 flex gap-2 z-50"},pt=["onClick"],St=V({__name:"DescriptionProductIndex",props:{descriptions:Array,stats:Object},setup(x){function g(s){return E(s).format("DD/MM/YYYY HH:mm")}const k=[{title:"Create Category",href:Y().url}],u=x,a=v(""),m=v(!1),n=v([]),y=T(()=>a.value?u.descriptions.filter(s=>s.product.title.toLowerCase().includes(a.value.toLowerCase())):u.descriptions);function w(s,e=100){return s.length>e?s.substring(0,e)+"...":s}function C(s){n.value.includes(s)?n.value=n.value.filter(e=>e!==s):n.value.push(s)}const D=s=>{confirm("Voulez-vous vraiment supprimer cette description ?")&&I.Inertia.delete(`/admin/description/${s}`,{onSuccess:()=>{},preserveScroll:!0})};return(s,e)=>{const $=F("font-awesome-icon");return l(),d(_,null,[s.$page.props.flash?.message?(l(),M(P,{key:0,message:s.$page.props.flash.message,link:s.$page.props.flash.link},null,8,["message","link"])):c("",!0),i(p(j),{title:"Listes des descriptions"}),i(L,{breadcrumbs:k},{default:f(()=>[t("div",G,[i(N,{class:"m-4"}),t("div",J,[t("div",O,[t("div",U,[e[4]||(e[4]=t("div",{class:"kpi-icon"},"ðŸ†•",-1)),t("div",W,[e[3]||(e[3]=t("h3",null,"Total produit Ã  dÃ©crire",-1)),t("p",null,r(u.stats.totalADecrit),1)])]),t("div",K,[e[6]||(e[6]=t("div",{class:"kpi-icon"},"ðŸ†•",-1)),t("div",Q,[e[5]||(e[5]=t("h3",null,"Descriptions deja effectuÃ©e",-1)),t("p",null,r(u.stats.totalDescriptions),1)])]),t("div",R,[e[8]||(e[8]=t("div",{class:"kpi-icon"},"ðŸ†•",-1)),t("div",X,[e[7]||(e[7]=t("h3",null,"Produits sans description",-1)),t("p",null,r(u.stats.totalWithoutDescription),1)])])]),e[11]||(e[11]=t("h1",{class:"text-xl font-bold mb-4 text-[var(--primary-blue)] dark:text-[var(--dark-gold)] my-2"}," Descriptions des produits ",-1)),t("div",Z,[t("div",tt,[t("div",et,[z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),type:"text",placeholder:"Search...",class:"custom-input"},null,512),[[A,a.value]]),i($,{icon:"magnifying-glass",class:"custom-icon"}),a.value?(l(),d("button",{key:0,onClick:e[1]||(e[1]=o=>a.value=""),type:"button",class:"clear-btn"},"âœ•")):c("",!0)]),t("div",st,[t("button",{onClick:e[2]||(e[2]=o=>m.value=!m.value),class:"p-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-700"},"â‹®"),m.value?(l(),d("div",ot,[t("ul",null,[t("li",null,[i(p(h),{href:"/admin/products/descriptions/create",class:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm"},{default:f(()=>[...e[9]||(e[9]=[b(" CrÃ©er une description ",-1)])]),_:1})])])])):c("",!0)])]),t("div",it,[(l(!0),d(_,null,B(y.value,o=>(l(),d("div",{key:o.id,class:"border p-4 rounded shadow hover:shadow-lg transition relative"},[t("h3",rt," Produit : "+r(o.product.title),1),t("p",lt,[e[10]||(e[10]=b(" Description : ",-1)),t("span",null,r(n.value.includes(o.id)?o.content:w(o.content)),1),o.content.length>100?(l(),d("button",{key:0,onClick:S=>C(o.id),class:"text-blue-600 hover:underline ml-2"},r(n.value.includes(o.id)?"Voir moins":"Voir plus"),9,at)):c("",!0)]),t("p",null,[t("i",nt,"CrÃ©Ã© le "+r(g(o.created_at)),1)]),t("p",null,[t("i",dt,"Modifier le "+r(g(o.updated_at)),1)]),t("div",ut,[i(p(h),{href:`/admin/products/description/${o.id}/edit`,class:"p-1 bg-blue-500 text-white rounded hover:bg-blue-600"},{default:f(()=>[i(p(H),{class:"w-4 h-4"})]),_:1},8,["href"]),t("button",{type:"button","aria-label":"Supprimer",title:"Supprimer",onClick:S=>D(o.id),class:"p-1 bg-red-500 text-white rounded hover:bg-red-600"},[i(p(q),{class:"w-4 h-4"})],8,pt)])]))),128))])])])])]),_:1})],64)}}});export{St as default};
