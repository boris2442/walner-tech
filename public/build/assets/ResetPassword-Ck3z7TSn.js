import{a as b,q as k}from"./index-BdvXPHPK.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-CGJnv3IB.js";import{_ as v}from"./index-BOBlRyUm.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-p5GN1Ne0.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-BtmC3jPm.js";import{_ as V}from"./AuthLayout.vue_vue_type_script_setup_true_lang-Cfuoj3Bz.js";import{d as C,r as $,c as x,b as s,f as m,u as a,e as N,x as P,y as q,k as n,p as u,g as A,j as B,l as g,F as E}from"./app-3lHVxEks.js";import{_ as F}from"./BackButton-CR_QHf0H.js";import{L as R}from"./loader-circle-DyhBd7sy.js";import"./useForwardExpose-mAhlf5jh.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BjxJdSJA.js";const t=(e,o)=>({url:t.url(e,o),method:"get"});t.definition={methods:["get","head"],url:"/reset-password/{token}"};t.url=(e,o)=>{(typeof e=="string"||typeof e=="number")&&(e={token:e}),Array.isArray(e)&&(e={token:e[0]}),e=b(e);const d={token:e.token};return t.definition.url.replace("{token}",d.token.toString()).replace(/\/+$/,"")+k(o)};t.get=(e,o)=>({url:t.url(e,o),method:"get"});t.head=(e,o)=>({url:t.url(e,o),method:"head"});const _=(e,o)=>({action:t.url(e,o),method:"get"});_.get=(e,o)=>({action:t.url(e,o),method:"get"});_.head=(e,o)=>({action:t.url(e,{[o?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...o?.query??o?.mergeQuery??{}}}),method:"get"});t.form=_;const l=e=>({url:l.url(e),method:"post"});l.definition={methods:["post"],url:"/reset-password"};l.url=e=>l.definition.url+k(e);l.post=e=>({url:l.url(e),method:"post"});const y=e=>({action:l.url(e),method:"post"});y.post=e=>({action:l.url(e),method:"post"});l.form=y;const Q={create:t,store:l},D={class:"grid gap-6"},L={class:"grid gap-2"},U={class:"grid gap-2"},j={class:"grid gap-2"},Y=C({__name:"ResetPassword",props:{token:{},email:{}},setup(e){const d=$(e.email);return(z,r)=>(g(),x(E,null,[s(F,{class:"m-4"}),s(V,{title:"Reset password",description:"Veuillez saisir votre nouveau mot de passe ci-dessous"},{default:m(()=>[s(a(N),{title:"Reset password"}),s(a(P),q(a(Q).store.form(),{transform:i=>({...i,token:e.token,email:e.email}),"reset-on-success":["password","password_confirmation"]}),{default:m(({errors:i,processing:w})=>[n("div",D,[n("div",L,[s(a(c),{for:"email"},{default:m(()=>[...r[1]||(r[1]=[u("Email",-1)])]),_:1}),s(a(f),{id:"email",type:"email",name:"email",autocomplete:"email",modelValue:d.value,"onUpdate:modelValue":r[0]||(r[0]=h=>d.value=h),class:"mt-1 block w-full",readonly:""},null,8,["modelValue"]),s(p,{message:i.email,class:"mt-2"},null,8,["message"])]),n("div",U,[s(a(c),{for:"password"},{default:m(()=>[...r[2]||(r[2]=[u("Mot de passe",-1)])]),_:1}),s(a(f),{id:"password",type:"password",name:"password",autocomplete:"new-password",class:"mt-1 block w-full",autofocus:"",placeholder:"Password"}),s(p,{message:i.password},null,8,["message"])]),n("div",j,[s(a(c),{for:"password_confirmation"},{default:m(()=>[...r[3]||(r[3]=[u(" Confirmation mot de passe ",-1)])]),_:1}),s(a(f),{id:"password_confirmation",type:"password",name:"password_confirmation",autocomplete:"new-password",class:"mt-1 block w-full",placeholder:"Confirm password"}),s(p,{message:i.password_confirmation},null,8,["message"])]),s(a(v),{type:"submit",class:"mt-4 w-full",disabled:w},{default:m(()=>[w?(g(),A(a(R),{key:0,class:"h-4 w-4 animate-spin"})):B("",!0),r[4]||(r[4]=u(" RÃ©initialiser le mot de passe ",-1))]),_:2},1032,["disabled"])])]),_:1},16,["transform"])]),_:1})],64))}});export{Y as default};
