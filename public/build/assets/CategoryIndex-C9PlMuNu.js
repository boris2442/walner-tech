import{M as $,d as L,r as v,B as M,N as D,c as i,g as N,j as u,b as r,u as d,e as V,f as m,k as e,m as n,O as B,P as F,l as a,I as x,p as I,F as b,q as S,Q as T}from"./app-B8Bday2e.js";import{_ as z}from"./BackButton-C_szFXQc.js";import{F as Y}from"./FlashMessageFrontend-mh71dfTl.js";import{c as _,_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-BoyDBkxR.js";import{d as A}from"./index-BdvXPHPK.js";import{d as E}from"./dayjs.min-BA5e-DKa.js";import{T as P}from"./trash-2-RKnMuERc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Co3i_p4M.js";import"./useForwardExpose-Deeoe7Gk.js";import"./VisuallyHidden-f2_6kO3v.js";import"./RovingFocusGroup-DMmuWBLL.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-tX-IWcWs.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=$("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),O={class:"flex flex-col gap-4 overflow-x-auto p-4"},q={class:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4"},Q={class:"kpi-card"},U={class:"kpi-text"},G={class:"relative min-h-[50vh] rounded-xl border border-sidebar-border/70 dark:border-sidebar-border"},J={class:"mb-4 flex flex-col gap-2 p-2 md:flex-row md:gap-4"},K={class:"relative w-full"},R={class:"relative"},W={key:0,class:"absolute right-0 z-50 mt-2 w-48 rounded border bg-white shadow-lg dark:bg-gray-800"},X={class:"overflow-x-auto"},Z={class:"w-full border-collapse text-left text-[0.75rem] sm:text-[0.75rem] md:text-[0.875rem] lg:text-[0.875rem]"},ee={class:"max-w-[150px] truncate p-2"},te={class:"max-w-[250px] truncate p-2"},se={class:"p-2"},oe={class:"text-xs"},re={class:"p-2"},ae={class:"text-xs"},le={class:"flex gap-2 p-2"},ie=["onClick"],de={key:0},Ce=L({__name:"CategoryIndex",props:{stats:{},categories:{}},setup(p){const g=p,k=[{title:"dashboard",href:A().url},{title:"Categories List",href:_.index().url}],l=v(""),f=M(()=>l.value?g.categories.filter(s=>s.name.toLowerCase().includes(l.value.toLowerCase())):g.categories);function h(s){return E(s).format("DD/MM/YYYY HH:mm")}const y=s=>{confirm("Voulez-vous vraiment supprimer cette cat√©gorie ?")&&T.Inertia.delete(`/admin/categories/${s}`,{onSuccess:()=>{},preserveScroll:!0})},c=v(!1);function w(s){s.target.closest(".relative")||(c.value=!1)}return document.addEventListener("click",w),(s,t)=>{const C=D("font-awesome-icon");return a(),i(b,null,[s.$page.props.flash?.message?(a(),N(Y,{key:0,message:s.$page.props.flash.message,link:s.$page.props.flash.link},null,8,["message","link"])):u("",!0),r(d(V),{title:"Categories"}),r(j,{breadcrumbs:k},{default:m(()=>[e("div",O,[r(z,{class:"m-4"}),e("div",q,[e("div",Q,[t[4]||(t[4]=e("div",{class:"kpi-icon"},"üÜï",-1)),e("div",U,[t[3]||(t[3]=e("h3",{class:"text-2xl"},"Total Cat√©gories",-1)),e("p",null,n(p.stats.total),1)])])]),t[8]||(t[8]=e("h1",{class:"my-2 mb-4 text-xl font-bold text-[var(--primary-blue)] dark:text-[var(--dark-gold)]"},"Categories List",-1)),e("div",G,[e("div",J,[e("div",K,[B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.value=o),type:"text",placeholder:"Search...",class:"custom-input"},null,512),[[F,l.value]]),r(C,{icon:"magnifying-glass",class:"custom-icon"}),l.value?(a(),i("button",{key:0,onClick:t[1]||(t[1]=o=>l.value=""),type:"button",class:"clear-btn"},"‚úï")):u("",!0)]),e("div",R,[e("button",{onClick:t[2]||(t[2]=o=>c.value=!c.value),class:"rounded border p-2 hover:bg-gray-100 dark:hover:bg-gray-700"},"‚ãÆ"),c.value?(a(),i("div",W,[e("ul",null,[e("li",null,[r(d(x),{href:d(_).create().url,prefetch:"",class:"block w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700"},{default:m(()=>[...t[5]||(t[5]=[I(" Cr√©er une cat√©gorie ",-1)])]),_:1},8,["href"])])])])):u("",!0)])]),e("div",X,[e("table",Z,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"p-2"},"Nom"),e("th",{class:"p-2"},"Description"),e("th",{class:"p-2"},"Cr√©√© le"),e("th",{class:"p-2"},"Mis √† jour"),e("th",{class:"p-2"},"Actions")])],-1)),e("tbody",null,[(a(!0),i(b,null,S(f.value,o=>(a(),i("tr",{key:o.id,class:"border-b hover:bg-gray-100 dark:hover:bg-gray-700"},[e("td",ee,n(o.name),1),e("td",te,n(o.description),1),e("td",se,[e("i",oe,n(h(o.created_at)),1)]),e("td",re,[e("i",ae,n(h(o.updated_at)),1)]),e("td",le,[r(d(x),{prefetch:"",href:`/admin/categories/${o.id}/edit`,class:"text-blue-500 hover:text-blue-700",title:"√âditer"},{default:m(()=>[r(d(H),{class:"h-4 w-4 md:h-5 md:w-5"})]),_:1},8,["href"]),e("button",{class:"text-red-500 hover:text-red-700",title:"Supprimer",onClick:ne=>y(o.id)},[r(d(P),{class:"h-4 w-4 md:h-5 md:w-5"})],8,ie)])]))),128)),f.value.length===0?(a(),i("tr",de,[...t[6]||(t[6]=[e("td",{colspan:"5",class:"p-4 text-center text-gray-500"},"Aucune cat√©gorie trouv√©e",-1)])])):u("",!0)])])])])])]),_:1})],64)}}});export{Ce as default};
