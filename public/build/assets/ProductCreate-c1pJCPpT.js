import{d as V,E as w,y as A,a as i,e as l,u as t,h as C,w as U,b as s,v as F,G as c,j as b,o as d,F as u,z as f,t as m,J as g}from"./app-gSihrTtU.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-DEQCU_ay.js";import{d as S}from"./index-BdvXPHPK.js";import{_ as p,a as D,b as $}from"./SubmitButton-D-Ut3Nms.js";import{_ as j}from"./BackButton-Cfk5srrA.js";import"./index-DU7HdwUW.js";import"./useForwardExpose-ZjBNrdUk.js";import"./VisuallyHidden-BkzFRe_7.js";import"./RovingFocusGroup-D9jUpLsa.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-CiJ1NAdV.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CoEAZ2F0.js";import"./index-Bn5tQzty.js";const E={class:"flex flex-col gap-4 p-4"},B={class:"relative min-h-[80vh] flex-1 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border p-6"},L=["value"],N={key:0,class:"text-red-500 text-sm mt-1"},I={class:"flex gap-2 mt-2 flex-wrap"},M=["src"],R={key:0,class:"text-red-500 text-sm mt-1"},h=V({__name:"ProductCreate",props:{categories:Array},setup(k){const v=[{title:"Créer un Produit",href:S().url}],e=w({title:"",description:"",prix:"",stock:0,category_id:"",status:"disponible",images:[]}),n=A([]),x=()=>{const a=new FormData;a.append("title",e.title),a.append("description",e.description),a.append("prix",e.prix),a.append("stock",e.stock),a.append("category_id",e.category_id),a.append("status",e.status),e.images.forEach(r=>a.append("images[]",r)),e.post("/admin/products/store",{onSuccess:()=>{e.reset(),n.value=[]}})},y=a=>{const r=a.target;r.files&&(e.images=Array.from(r.files),n.value=e.images.map(o=>URL.createObjectURL(o)))};return(a,r)=>(d(),i(u,null,[l(t(C),{title:"Créer un Produit"}),l(P,{breadcrumbs:v},{default:U(()=>[s("div",E,[l(j,{class:"m-4"}),s("div",B,[r[11]||(r[11]=s("h2",{class:"text-xl font-bold mb-4 text-[var(--primary-blue)] dark:text-[var(--dark-gold)]"}," Ajouter un Produit ",-1)),s("form",{onSubmit:F(x,["prevent"]),enctype:"multipart/form-data",class:"flex flex-col gap-4"},[l(p,{label:"Titre du produit",modelValue:t(e).title,"onUpdate:modelValue":r[0]||(r[0]=o=>t(e).title=o),error:t(e).errors.title},null,8,["modelValue","error"]),l(D,{label:"Description",modelValue:t(e).description,"onUpdate:modelValue":r[1]||(r[1]=o=>t(e).description=o),error:t(e).errors.description},null,8,["modelValue","error"]),l(p,{label:"Prix",modelValue:t(e).prix,"onUpdate:modelValue":r[2]||(r[2]=o=>t(e).prix=o),type:"number",error:t(e).errors.prix},null,8,["modelValue","error"]),l(p,{label:"Stock",modelValue:t(e).stock,"onUpdate:modelValue":r[3]||(r[3]=o=>t(e).stock=o),type:"number",error:t(e).errors.stock},null,8,["modelValue","error"]),s("div",null,[r[7]||(r[7]=s("label",{class:"block mb-1 font-medium text-[var(--primary-blue)] dark:text-[var(--dark-gold)]"}," Catégorie ",-1)),c(s("select",{"onUpdate:modelValue":r[4]||(r[4]=o=>t(e).category_id=o),required:"",class:"p-2 border rounded w-full focus:outline-none focus:ring-2 focus:ring-[var(--primary-blue)] dark:bg-[#2A2A2A] dark:border-gray-600 dark:focus:ring-[var(--dark-gold)]"},[r[6]||(r[6]=s("option",{value:"",disabled:""},"Choisir une catégorie",-1)),(d(!0),i(u,null,f(k.categories,o=>(d(),i("option",{key:o.id,value:o.id},m(o.name),9,L))),128))],512),[[g,t(e).category_id]]),t(e).errors.category_id?(d(),i("p",N,m(t(e).errors.category_id),1)):b("",!0)]),s("div",null,[r[8]||(r[8]=s("label",{class:"block mb-1 font-medium text-[var(--primary-blue)] dark:text-[var(--dark-gold)]"},"Images",-1)),s("input",{type:"file",multiple:"",accept:"image/*",onChange:y,class:"block w-full"},null,32),s("div",I,[(d(!0),i(u,null,f(n.value,(o,_)=>(d(),i("img",{key:_,src:o,class:"h-20 w-20 object-cover rounded border"},null,8,M))),128))]),t(e).errors.images?(d(),i("p",R,m(t(e).errors.images),1)):b("",!0)]),s("div",null,[r[10]||(r[10]=s("label",{class:"block mb-1 font-medium text-[var(--primary-blue)] dark:text-[var(--dark-gold)]"},"Statut",-1)),c(s("select",{"onUpdate:modelValue":r[5]||(r[5]=o=>t(e).status=o),class:"p-2 border rounded w-full focus:outline-none focus:ring-2 focus:ring-[var(--primary-blue)] dark:bg-[#2A2A2A] dark:border-gray-600 dark:focus:ring-[var(--dark-gold)]"},[...r[9]||(r[9]=[s("option",{value:"disponible"},"Disponible",-1),s("option",{value:"indisponible"},"Indisponible",-1)])],512),[[g,t(e).status]])]),l($,{processing:t(e).processing,label:"Enregistrer"},null,8,["processing"])],32)])])]),_:1})],64))}});export{h as default};
