import{d as C,y as f,c as M,a as l,e as o,u as a,h as I,w as u,b as e,t as d,G as D,H as L,j as v,o as i,A as x,i as V,F as b,z,I as N}from"./app--YARzvNv.js";import{c as _,_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bkg3oOOi.js";import{d as T}from"./dayjs.min-rWxXHh-x.js";import{c as $}from"./createLucideIcon-BU9qrglO.js";import{T as j}from"./trash-2-Cbs_m43p.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-39lY7Qjj.js";import"./useForwardExpose-CLz3qDOT.js";import"./VisuallyHidden-DKYfZ1Oq.js";import"./RovingFocusGroup-ClAaiIZM.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BdvXPHPK.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BjY-gEcl.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=$("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Y={class:"flex flex-col gap-4 p-4 overflow-x-auto"},E={class:"grid gap-4 md:grid-cols-5 sm:grid-cols-2"},H={class:"kpi-card max-w-[200px] dark:border-sidebar-border"},F={class:"kpi-text"},P={class:"relative rounded-xl border border-sidebar-border/70 dark:border-sidebar-border min-h-[50vh]"},G={class:"flex flex-col md:flex-row gap-2 md:gap-4 mb-4 p-2"},O={class:"relative"},R={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border rounded shadow-lg z-50"},U={class:"overflow-x-auto"},q={class:"w-full text-left border-collapse text-[0.75rem] sm:text-[0.75rem] md:text-[0.875rem] lg:text-[0.875rem]"},J={class:"p-2 truncate max-w-[150px]"},K={class:"p-2 truncate max-w-[250px]"},Q={class:"p-2"},W={class:"p-2"},X={class:"p-2 flex gap-2"},Z=["onClick"],ee={key:0},te=C({__name:"CategoryIndex",props:{stats:{},categories:{}},setup(p){const m=p,k=[{title:"Categories",href:_.index().url}],n=f(""),h=M(()=>n.value?m.categories.filter(r=>r.name.toLowerCase().includes(n.value.toLowerCase())):m.categories);function g(r){return T(r).format("DD/MM/YYYY HH:mm")}const w=r=>{confirm("Voulez-vous vraiment supprimer cette catégorie ?")&&N.Inertia.delete(`/admin/categories/${r}`,{onSuccess:()=>{console.log("Supprimé avec succès")},preserveScroll:!0})},c=f(!1);function y(r){r.target.closest(".relative")||(c.value=!1)}return document.addEventListener("click",y),(r,t)=>(i(),l(b,null,[o(a(I),{title:"Categories"}),o(S,{breadcrumbs:k},{default:u(()=>[e("div",Y,[e("div",E,[e("div",H,[t[3]||(t[3]=e("div",{class:"kpi-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})])],-1)),e("div",F,[t[2]||(t[2]=e("h3",null,"Total Catégories",-1)),e("p",null,d(p.stats.total),1)])])]),e("div",P,[e("div",G,[D(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),placeholder:"Rechercher par nom",class:"border p-2 rounded flex-1 text-xs sm:text-sm md:text-base"},null,512),[[L,n.value]]),e("div",O,[e("button",{onClick:t[1]||(t[1]=s=>c.value=!c.value),class:"p-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-700"}," ⋮ "),c.value?(i(),l("div",R,[e("ul",null,[e("li",null,[o(a(x),{href:a(_).create().url,class:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:u(()=>[...t[4]||(t[4]=[V(" Créer une catégorie ",-1)])]),_:1},8,["href"])])])])):v("",!0)])]),e("div",U,[e("table",q,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"p-2"},"Nom"),e("th",{class:"p-2"},"Description"),e("th",{class:"p-2"},"Créé le"),e("th",{class:"p-2"},"Mis à jour"),e("th",{class:"p-2"},"Actions")])],-1)),e("tbody",null,[(i(!0),l(b,null,z(h.value,s=>(i(),l("tr",{key:s.id,class:"border-b hover:bg-gray-100 dark:hover:bg-gray-700"},[e("td",J,d(s.name),1),e("td",K,d(s.description),1),e("td",Q,d(g(s.created_at)),1),e("td",W,d(g(s.updated_at)),1),e("td",X,[o(a(x),{prefetch:"",href:`/admin/categories/${s.id}/edit`,class:"text-blue-500 hover:text-blue-700",title:"Éditer"},{default:u(()=>[o(a(B),{class:"w-4 h-4 md:w-5 md:h-5"})]),_:1},8,["href"]),e("button",{class:"text-red-500 hover:text-red-700",title:"Supprimer",onClick:se=>w(s.id)},[o(a(j),{class:"w-4 h-4 md:w-5 md:h-5"})],8,Z)])]))),128)),h.value.length===0?(i(),l("tr",ee,[...t[5]||(t[5]=[e("td",{colspan:"5",class:"text-center p-4 text-gray-500"},"Aucune catégorie trouvée",-1)])])):v("",!0)])])])])])]),_:1})],64))}}),fe=A(te,[["__scopeId","data-v-f59aea04"]]);export{fe as default};
