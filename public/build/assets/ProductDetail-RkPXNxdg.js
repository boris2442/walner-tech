import{T as C,N as j,L as P,_ as F}from"./LoginReminder-CvYqCe_Z.js";import{C as I,c as A}from"./CartWidget-DLvnRZGE.js";import{G as z,a as i,g as h,o as d,b as t,e as r,F as v,z as $,w as D,t as g,u as x,A as S,y as _,l as N,h as T,L as B,M as y,N as L}from"./app-C5AXjAta.js";import{_ as U}from"./BackButton-DP5WR_wQ.js";import{F as V}from"./FloatingAction-MgVpiGjH.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BdvXPHPK.js";import"./createLucideIcon-isKlirpj.js";const M={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},O={class:"relative z-10 w-[90%] max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",role:"dialog","aria-modal":"true"},E={class:"grid grid-cols-2 gap-6 py-4"},q=["href"],R=["href"],W=["href"],G=["href"],H=["href"],J=["href"],K={__name:"ShareModal",props:{show:{type:Boolean,default:!1},product:{type:Object,required:!0},url:{type:String,required:!1}},emits:["close"],setup(e,{emit:p}){const l=p,c=e,s=c.product?.title||"",m=c.url||window.location.href,u=` ${m}`;function o(w){return encodeURIComponent(w)}const a={whatsapp:`https://wa.me/?text=${o(u)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${o(m)}&t=${o(s)}`,telegram:`https://t.me/share/url?url=${o(m)}&text=${o(s)}`,twitter:`https://twitter.com/intent/tweet?text=${o(s)}&url=${o(m)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${o(m)}`,email:`mailto:?subject=${o(s)}&body=${o(u)}`};function b(){l("close")}return(w,n)=>{const f=z("font-awesome-icon");return e.show?(d(),i("div",M,[t("div",{class:"absolute inset-0 bg-black/40",onClick:b}),t("div",O,[t("button",{class:"absolute top-3 right-3 text-2xl",onClick:b,"aria-label":"Close"},"✕"),t("div",E,[t("a",{href:a.whatsapp,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3"},[r(f,{icon:["fab","whatsapp"],class:"h-7 w-7"}),n[0]||(n[0]=t("span",null,"WhatsApp",-1))],8,q),t("a",{href:a.facebook,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3"},[r(f,{icon:["fab","facebook"],class:"h-7 w-7"}),n[1]||(n[1]=t("span",null,"Facebook",-1))],8,R),t("a",{href:a.telegram,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3"},[r(f,{icon:["fab","telegram"],class:"h-7 w-7"}),n[2]||(n[2]=t("span",null,"Telegram",-1))],8,W),t("a",{href:a.twitter,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3"},[r(f,{icon:["fab","twitter"],class:"h-7 w-7"}),n[3]||(n[3]=t("span",null,"Twitter",-1))],8,G),t("a",{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3"},[r(f,{icon:["fab","linkedin"],class:"h-7 w-7"}),n[4]||(n[4]=t("span",null,"LinkedIn",-1))],8,H),t("a",{href:a.email,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3"},[r(f,{icon:["fas","envelope"],class:"h-7 w-7"}),n[5]||(n[5]=t("span",null,"Email",-1))],8,J)])])])):h("",!0)}}},Q=k(K,[["__scopeId","data-v-3c30dfa1"]]),X={key:0,class:"bg-background-light py-8 shadow-inner dark:bg-[var(--highlight-gold)]"},Y={class:"max-w-6xl mx-auto px-4"},Z={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},tt=["src","alt"],et={class:"font-semibold mb-2 pl-2"},rt={class:"text-[var(--primary-blue)] font-bold mb-2 pl-2"},ot={__name:"SimilarProducts",props:{products:{type:Array,default:()=>[]}},setup(e){function p(l){return l?`/${l}`:"/fallback.png"}return(l,c)=>e.products&&e.products.length?(d(),i("section",X,[t("div",Y,[c[0]||(c[0]=t("h2",{class:"text-2xl font-bold mb-6"},"Produits similaires",-1)),t("div",Z,[(d(!0),i(v,null,$(e.products,s=>(d(),i("div",{key:s.id,class:"bg-white dark:bg-[var(--card-dark)] rounded-lg shadow-md hover:scale-105 transition-transform product-card flex flex-col overflow-hidden"},[r(x(S),{prefetch:"",href:`/products/${s.slug}`},{default:D(()=>[t("img",{src:p(s.images?.[0]?.url_image),alt:s.title,class:"w-full h-40 object-cover rounded-md mb-4"},null,8,tt),t("h3",et,g(s.title),1)]),_:2},1032,["href"]),t("p",rt,g(s.prix)+" FCFA",1)]))),128))])])])):h("",!0)}},st={class:"bg-background-light py-8 shadow-inner dark:bg-[var(--highlight-gold)] product-descriptions"},at={key:0,class:"bg-white dark:bg-gray-800 p-4 md:p-6 rounded-lg shadow-sm border-l-4 border-[var(--primary-blue)] text-gray-700 dark:text-gray-300 leading-relaxed text-sm md:text-base"},lt={__name:"ProductDescriptions",props:{descriptionProduct:{type:Object,default:null}},setup(e){return(p,l)=>(d(),i("section",st,[l[0]||(l[0]=t("h2",{class:"text-2xl font-bold mb-6"},"Descriptions supplémentaires",-1)),e.descriptionProduct&&e.descriptionProduct.content?(d(),i("div",at,g(e.descriptionProduct.content),1)):h("",!0)]))}},nt=k(lt,[["__scopeId","data-v-cfba5fc3"]]),it={class:"bg-background-light dark:bg-dark-background text-text-dark dark:text-dark-white p-4 md:p-8"},dt={class:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8"},ct={class:"flex flex-col md:flex-row gap-4"},ut={class:"flex md:flex-col gap-3 overflow-x-auto md:overflow-y-auto md:h-[500px] md:w-[100px] scrollbar-hide"},pt=["src","alt","onClick"],mt={class:"flex-1 flex items-center justify-center"},ft=["src","alt"],gt={class:"flex flex-col justify-start md:justify-between relative"},ht={class:"text-3xl font-bold mb-2"},bt={class:"text-gray-700 dark:text-gray-300 mb-2 leading-relaxed"},xt={class:"text-md font-semibold text-[var(--primary-blue)] flex justify-between"},wt={href:"https://wa.me/237656894773",target:"_blank",rel:"noopener noreferrer",class:"bg-[var(--primary-blue)] w-[100px] h-8 flex items-center justify-center text-white px-4 py-2 rounded-lg font-semibold hover:opacity-90 transition ease-in-out duration-200"},vt={key:0,class:"text-sm font-semibold text-[var(--primary-blue)] mb-6 dark:text-gray-300"},kt={key:0,class:"max-w-6xl mx-auto px-4"},_t={__name:"ProductDetail",props:{product:Object,auth:Object,similarProducts:Array},setup(e){const p=e,l=_(!1),c=_(null);N(()=>{c.value=p.product.images?.[0]?.url_image||"/fallback.png"});function s(u){return u?`/${u}`:"/fallback.png"}function m(u){if(!p.auth?.user){confirm(`Vous devez être connecté pour aimer un produit.
Voulez-vous vous connecter maintenant ?`)&&L.visit("/login");return}A.add(u)}return(u,o)=>(d(),i(v,null,[r(I),r(x(T),{title:e.product.title+" - Détails du produit"},null,8,["title"]),r(C),r(V),r(j,{auth:u.$page.props.auth,class:"mt-10 md:mt-12"},null,8,["auth"]),r(U,{class:"m-4"}),r(P),t("section",it,[t("div",dt,[t("div",ct,[t("div",ut,[(d(!0),i(v,null,$(e.product.images,(a,b)=>(d(),i("img",{key:a.id,src:s(a.url_image),alt:"Image "+(b+1),class:B(["w-20 h-20 object-cover rounded-lg border cursor-pointer hover:opacity-90 transition",{"ring-2 ring-[var(--primary-blue)]":c.value===a.url_image}]),onClick:w=>c.value=a.url_image,loading:"lazy"},null,10,pt))),128))]),t("div",mt,[t("img",{src:s(c.value),alt:e.product.title,class:"w-full h-80 md:h-[500px] object-contain rounded-lg shadow-lg transition-transform duration-300 hover:scale-105"},null,8,ft)])]),t("div",gt,[t("button",{onClick:o[0]||(o[0]=a=>l.value=!0),class:"flex items-center gap-2 border px-3 py-2 rounded-lg hover:shadow absolute top-4 right-2 text-text-dark dark:text-dark-white hover:bg-[var(--primary-blue)] hover:text-white transition"},[r(x(y),{icon:["fas","share-alt"],class:"h-4 w-4 text-gray-500 text-2xl"})]),r(Q,{show:l.value,product:e.product,onClose:o[1]||(o[1]=a=>l.value=!1)},null,8,["show","product"]),t("div",null,[t("h1",ht,g(e.product.title),1),t("p",bt,g(e.product.description),1),t("p",xt,[t("span",null,g(e.product.prix)+" FCFA ",1),t("span",null,[t("a",wt,[r(x(y),{icon:["fab","whatsapp"],class:"h-5 w-5 ml-2 text-xl text-white"})])])]),e.product.stock>=3?(d(),i("p",vt,[...o[3]||(o[3]=[t("span",{class:"border border-solid border-[var(--primary-blue)] py-[2px] px-1 rounded dark:border-gray-300"},[t("span",null,"En stock ")],-1)])])):h("",!0)]),t("div",null,[t("button",{onClick:o[2]||(o[2]=a=>m(e.product)),class:"w-full md:w-auto bg-[var(--primary-blue)] dark:bg-dark-gold text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:opacity-90 transition"}," Ajouter au panier ")])])])]),e.product.descriptionProduct&&e.product.descriptionProduct.content?(d(),i("div",kt,[r(nt,{"description-product":e.product.descriptionProduct},null,8,["description-product"])])):h("",!0),r(ot,{products:e.similarProducts},null,8,["products"]),r(F)],64))}},zt=k(_t,[["__scopeId","data-v-0cebe769"]]);export{zt as default};
