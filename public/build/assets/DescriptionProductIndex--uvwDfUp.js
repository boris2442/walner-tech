import{d as D,r as m,g as $,i as V,c as n,j as F,k as p,a as u,b as v,h as j,w as g,e as t,t as i,l as B,v as L,o as r,m as M,n as f,F as h,p as N}from"./app-Cq7MTbjo.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bkm9Ho2Y.js";import{_ as Y}from"./BackButton-DUCCcmJH.js";import{F as A}from"./FlashMessageFrontend-c1nk1IDq.js";import{d as P}from"./index-CpRFnG9C.js";import{d as E}from"./dayjs.min-Dk5-pBYD.js";import"./index-CeRQMehl.js";import"./useForwardExpose-CgXWS7r0.js";import"./VisuallyHidden-B9VFuQsp.js";import"./RovingFocusGroup-PYDBuAVa.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-BhLKPZUj.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BkdviPU3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"flex flex-col gap-4 p-4"},I={class:"relative min-h-[80vh] flex-1 rounded-xl border p-6"},S={class:"grid gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4"},z={class:"kpi-card"},O={class:"kpi-text"},U={class:"kpi-card"},W={class:"kpi-text"},q={class:"kpi-card"},G={class:"kpi-text"},J={class:"relative border rounded-xl min-h-[50vh]"},K={class:"flex flex-col md:flex-row gap-4 mb-4 p-2"},Q={class:"relative w-full"},R={class:"relative"},X={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border rounded shadow-lg z-50"},Z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},tt={class:"font-bold text-lg mb-2"},st={class:"text-gray-700 dark:text-gray-300 text-sm mb-2"},et=["onClick"],ot={class:"text-xs"},bt=D({__name:"DescriptionProductIndex",props:{descriptions:Array,stats:Object},setup(k){function b(e){return E(e).format("DD/MM/YYYY HH:mm")}const _=[{title:"Create Category",href:P().url}],d=k,l=m(""),c=m(!1),a=m([]),x=$(()=>l.value?d.descriptions.filter(e=>e.product.title.toLowerCase().includes(l.value.toLowerCase())):d.descriptions);function y(e,s=100){return e.length>s?e.substring(0,s)+"...":e}function w(e){a.value.includes(e)?a.value=a.value.filter(s=>s!==e):a.value.push(e)}return(e,s)=>{const C=V("font-awesome-icon");return r(),n(h,null,[e.$page.props.flash?.message?(r(),F(A,{key:0,message:e.$page.props.flash.message,link:e.$page.props.flash.link},null,8,["message","link"])):p("",!0),u(v(j),{title:"Listes des descriptions"}),u(T,{breadcrumbs:_},{default:g(()=>[t("div",H,[u(Y,{class:"m-4"}),t("div",I,[t("div",S,[t("div",z,[s[4]||(s[4]=t("div",{class:"kpi-icon"},"üÜï",-1)),t("div",O,[s[3]||(s[3]=t("h3",null,"Total produit √† d√©crire",-1)),t("p",null,i(d.stats.totalADecrit),1)])]),t("div",U,[s[6]||(s[6]=t("div",{class:"kpi-icon"},"üÜï",-1)),t("div",W,[s[5]||(s[5]=t("h3",null,"Descriptions deja effectu√©e",-1)),t("p",null,i(d.stats.totalDescriptions),1)])]),t("div",q,[s[8]||(s[8]=t("div",{class:"kpi-icon"},"üÜï",-1)),t("div",G,[s[7]||(s[7]=t("h3",null,"Produits sans description",-1)),t("p",null,i(d.stats.totalWithoutDescription),1)])])]),s[11]||(s[11]=t("h1",{class:"text-xl font-bold mb-4 text-[var(--primary-blue)] dark:text-[var(--dark-gold)] my-2"}," Descriptions des produits ",-1)),t("div",J,[t("div",K,[t("div",Q,[B(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>l.value=o),type:"text",placeholder:"Search...",class:"custom-input"},null,512),[[L,l.value]]),u(C,{icon:"magnifying-glass",class:"custom-icon"}),l.value?(r(),n("button",{key:0,onClick:s[1]||(s[1]=o=>l.value=""),type:"button",class:"clear-btn"},"‚úï")):p("",!0)]),t("div",R,[t("button",{onClick:s[2]||(s[2]=o=>c.value=!c.value),class:"p-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-700"},"‚ãÆ"),c.value?(r(),n("div",X,[t("ul",null,[t("li",null,[u(v(M),{href:"/admin/products/descriptions/create",class:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm"},{default:g(()=>[...s[9]||(s[9]=[f(" Cr√©er une description ",-1)])]),_:1})])])])):p("",!0)])]),t("div",Z,[(r(!0),n(h,null,N(x.value,o=>(r(),n("div",{key:o.id,class:"border p-4 rounded shadow hover:shadow-lg transition"},[t("h3",tt," Produit : "+i(o.product.title),1),t("p",st,[s[10]||(s[10]=f(" Description : ",-1)),t("span",null,i(a.value.includes(o.id)?o.content:y(o.content)),1),o.content.length>100?(r(),n("button",{key:0,onClick:it=>w(o.id),class:"text-blue-600 hover:underline ml-2"},i(a.value.includes(o.id)?"Voir moins":"Voir plus"),9,et)):p("",!0)]),t("p",null,[t("i",ot,"Cr√©√© le "+i(b(o.created_at)),1)])]))),128))])])])])]),_:1})],64)}}});export{bt as default};
