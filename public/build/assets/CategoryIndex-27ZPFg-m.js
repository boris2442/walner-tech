import{d as $,y as v,c as M,G as L,a as i,f as D,g as u,e as r,u as n,h as V,w as m,b as e,t as d,H as z,I as B,o as a,A as b,j as F,F as x,z as I,J as N}from"./app-C5AXjAta.js";import{c as k,_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-BvG1V1X-.js";import{d as T}from"./dayjs.min-J3-hNdHm.js";import{F as j}from"./FlashMessageFrontend-BFHsRMax.js";import{_ as A}from"./BackButton-DP5WR_wQ.js";import{c as Y}from"./createLucideIcon-isKlirpj.js";import{T as E}from"./trash-2-DGh6V8Bx.js";import"./index-BnoGYxC9.js";import"./useForwardExpose-DBi2QbOp.js";import"./VisuallyHidden-BwiloAKn.js";import"./RovingFocusGroup-Y5geKFoR.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BdvXPHPK.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BkGwIieX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=Y("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),P={class:"flex flex-col gap-4 p-4 overflow-x-auto"},G={class:"grid gap-4 md:grid-cols-5 sm:grid-cols-2"},J={class:"kpi-card max-w-[200px] dark:border-sidebar-border"},O={class:"kpi-text"},U={class:"relative rounded-xl border border-sidebar-border/70 dark:border-sidebar-border min-h-[50vh]"},q={class:"flex flex-col md:flex-row gap-2 md:gap-4 mb-4 p-2"},K={class:"relative w-full"},Q={class:"relative"},R={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border rounded shadow-lg z-50"},W={class:"overflow-x-auto"},X={class:"w-full text-left border-collapse text-[0.75rem] sm:text-[0.75rem] md:text-[0.875rem] lg:text-[0.875rem]"},Z={class:"p-2 truncate max-w-[150px]"},ee={class:"p-2 truncate max-w-[250px]"},te={class:"p-2"},se={class:"p-2"},oe={class:"p-2 flex gap-2"},re=["onClick"],ae={key:0},we=$({__name:"CategoryIndex",props:{stats:{},categories:{}},setup(p){const g=p,_=[{title:"Categories",href:k.index().url}],l=v(""),f=M(()=>l.value?g.categories.filter(s=>s.name.toLowerCase().includes(l.value.toLowerCase())):g.categories);function h(s){return T(s).format("DD/MM/YYYY HH:mm")}const w=s=>{confirm("Voulez-vous vraiment supprimer cette catégorie ?")&&N.Inertia.delete(`/admin/categories/${s}`,{onSuccess:()=>{},preserveScroll:!0})},c=v(!1);function y(s){s.target.closest(".relative")||(c.value=!1)}return document.addEventListener("click",y),(s,t)=>{const C=L("font-awesome-icon");return a(),i(x,null,[s.$page.props.flash?.message?(a(),D(j,{key:0,message:s.$page.props.flash.message,link:s.$page.props.flash.link},null,8,["message","link"])):u("",!0),r(n(V),{title:"Categories"}),r(S,{breadcrumbs:_},{default:m(()=>[e("div",P,[r(A,{class:"m-4"}),e("div",G,[e("div",J,[t[4]||(t[4]=e("div",{class:"kpi-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M3 12h18M3 17h18"})])],-1)),e("div",O,[t[3]||(t[3]=e("h3",null,"Total Catégories",-1)),e("p",null,d(p.stats.total),1)])])]),t[8]||(t[8]=e("h1",{class:"text-xl font-bold mb-4 text-[var(--primary-blue)] dark:text-[var(--dark-gold)] my-2"}," Categories List ",-1)),e("div",U,[e("div",q,[e("div",K,[z(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.value=o),type:"text",placeholder:"Search...",class:"custom-input"},null,512),[[B,l.value]]),r(C,{icon:"magnifying-glass",class:"custom-icon"}),l.value?(a(),i("button",{key:0,onClick:t[1]||(t[1]=o=>l.value=""),type:"button",class:"clear-btn"}," ✕ ")):u("",!0)]),e("div",Q,[e("button",{onClick:t[2]||(t[2]=o=>c.value=!c.value),class:"p-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-700"}," ⋮ "),c.value?(a(),i("div",R,[e("ul",null,[e("li",null,[r(n(b),{href:n(k).create().url,class:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm"},{default:m(()=>[...t[5]||(t[5]=[F(" Créer une catégorie ",-1)])]),_:1},8,["href"])])])])):u("",!0)])]),e("div",W,[e("table",X,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"p-2"},"Nom"),e("th",{class:"p-2"},"Description"),e("th",{class:"p-2"},"Créé le"),e("th",{class:"p-2"},"Mis à jour"),e("th",{class:"p-2"},"Actions")])],-1)),e("tbody",null,[(a(!0),i(x,null,I(f.value,o=>(a(),i("tr",{key:o.id,class:"border-b hover:bg-gray-100 dark:hover:bg-gray-700"},[e("td",Z,d(o.name),1),e("td",ee,d(o.description),1),e("td",te,d(h(o.created_at)),1),e("td",se,d(h(o.updated_at)),1),e("td",oe,[r(n(b),{prefetch:"",href:`/admin/categories/${o.id}/edit`,class:"text-blue-500 hover:text-blue-700",title:"Éditer"},{default:m(()=>[r(n(H),{class:"w-4 h-4 md:w-5 md:h-5"})]),_:1},8,["href"]),e("button",{class:"text-red-500 hover:text-red-700",title:"Supprimer",onClick:le=>w(o.id)},[r(n(E),{class:"w-4 h-4 md:w-5 md:h-5"})],8,re)])]))),128)),f.value.length===0?(a(),i("tr",ae,[...t[6]||(t[6]=[e("td",{colspan:"5",class:"text-center p-4 text-gray-500"},"Aucune catégorie trouvée",-1)])])):u("",!0)])])])])])]),_:1})],64)}}});export{we as default};
