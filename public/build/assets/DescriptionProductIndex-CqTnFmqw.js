import{d as T,y as v,c as F,G as L,a as d,f as M,g as c,e as i,u,h as j,w as f,b as t,t as r,H as z,I as A,o as l,A as h,j as b,F as _,z as B,J as I}from"./app-C7oty4X3.js";import{d as x,_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-HZjpEhQ-.js";import{_ as P}from"./BackButton-C9dTBpy5.js";import{F as Y}from"./FlashMessageFrontend-D8_7fq6Q.js";import{d as E}from"./index-BdvXPHPK.js";import{d as H}from"./dayjs.min-C9mNtego.js";import{S as q,T as G}from"./trash-Bo7rOCex.js";import"./index-BT16DDb4.js";import"./useForwardExpose-BY2yiMdq.js";import"./VisuallyHidden-HS6LZtop.js";import"./RovingFocusGroup-6pjGv5Nq.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-Dz8TUxpC.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BMb8TQ4d.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"flex flex-col gap-4 p-4"},O={class:"relative min-h-[80vh] flex-1 rounded-xl border p-6"},U={class:"grid gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4"},W={class:"kpi-card"},K={class:"kpi-text"},Q={class:"kpi-card"},R={class:"kpi-text"},X={class:"kpi-card"},Z={class:"kpi-text"},tt={class:"relative border rounded-xl min-h-[50vh]"},et={class:"flex flex-col md:flex-row gap-4 mb-4 p-2"},st={class:"relative w-full"},ot={class:"relative"},it={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border rounded shadow-lg z-50"},rt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},lt={class:"font-bold text-lg mb-2"},at={class:"text-gray-700 dark:text-gray-300 text-sm mb-2"},nt=["onClick"],dt={class:"text-xs"},ut={class:"text-xs"},pt={class:"absolute bottom-2 right-2 flex gap-2 z-50"},ct=["onClick"],Vt=T({__name:"DescriptionProductIndex",props:{descriptions:Array,stats:Object},setup(k){function g(s){return H(s).format("DD/MM/YYYY HH:mm")}const y=[{title:"dashboard",href:E().url},{title:"List description",href:x.index().url}],p=k,a=v(""),m=v(!1),n=v([]),w=F(()=>a.value?p.descriptions.filter(s=>s.product.title.toLowerCase().includes(a.value.toLowerCase())):p.descriptions);function C(s,e=100){return s.length>e?s.substring(0,e)+"...":s}function D(s){n.value.includes(s)?n.value=n.value.filter(e=>e!==s):n.value.push(s)}const $=s=>{confirm("Voulez-vous vraiment supprimer cette description ?")&&I.Inertia.delete(`/admin/description/${s}`,{onSuccess:()=>{},preserveScroll:!0})};return(s,e)=>{const S=L("font-awesome-icon");return l(),d(_,null,[s.$page.props.flash?.message?(l(),M(Y,{key:0,message:s.$page.props.flash.message,link:s.$page.props.flash.link},null,8,["message","link"])):c("",!0),i(u(j),{title:"Listes des descriptions"}),i(N,{breadcrumbs:y},{default:f(()=>[t("div",J,[i(P,{class:"m-4"}),t("div",O,[t("div",U,[t("div",W,[e[4]||(e[4]=t("div",{class:"kpi-icon"},"ðŸ†•",-1)),t("div",K,[e[3]||(e[3]=t("h3",null,"Total produit Ã  dÃ©crire",-1)),t("p",null,r(p.stats.totalADecrit),1)])]),t("div",Q,[e[6]||(e[6]=t("div",{class:"kpi-icon"},"ðŸ†•",-1)),t("div",R,[e[5]||(e[5]=t("h3",null,"Descriptions deja effectuÃ©e",-1)),t("p",null,r(p.stats.totalDescriptions),1)])]),t("div",X,[e[8]||(e[8]=t("div",{class:"kpi-icon"},"ðŸ†•",-1)),t("div",Z,[e[7]||(e[7]=t("h3",null,"Produits sans description",-1)),t("p",null,r(p.stats.totalWithoutDescription),1)])])]),e[11]||(e[11]=t("h1",{class:"text-xl font-bold mb-4 text-[var(--primary-blue)] dark:text-[var(--dark-gold)] my-2"}," Descriptions des produits ",-1)),t("div",tt,[t("div",et,[t("div",st,[z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),type:"text",placeholder:"Search...",class:"custom-input"},null,512),[[A,a.value]]),i(S,{icon:"magnifying-glass",class:"custom-icon"}),a.value?(l(),d("button",{key:0,onClick:e[1]||(e[1]=o=>a.value=""),type:"button",class:"clear-btn"},"âœ•")):c("",!0)]),t("div",ot,[t("button",{onClick:e[2]||(e[2]=o=>m.value=!m.value),class:"p-2 border rounded hover:bg-gray-100 dark:hover:bg-gray-700"},"â‹®"),m.value?(l(),d("div",it,[t("ul",null,[t("li",null,[i(u(h),{prefetch:"",href:u(x).create.url(),class:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm"},{default:f(()=>[...e[9]||(e[9]=[b(" CrÃ©er une description ",-1)])]),_:1},8,["href"])])])])):c("",!0)])]),t("div",rt,[(l(!0),d(_,null,B(w.value,o=>(l(),d("div",{key:o.id,class:"border p-4 rounded shadow hover:shadow-lg transition relative"},[t("h3",lt," Produit : "+r(o.product.title),1),t("p",at,[e[10]||(e[10]=b(" Description : ",-1)),t("span",null,r(n.value.includes(o.id)?o.content:C(o.content)),1),o.content.length>100?(l(),d("button",{key:0,onClick:V=>D(o.id),class:"text-blue-600 hover:underline ml-2"},r(n.value.includes(o.id)?"Voir moins":"Voir plus"),9,nt)):c("",!0)]),t("p",null,[t("i",dt,"CrÃ©Ã© le "+r(g(o.created_at)),1)]),t("p",null,[t("i",ut,"Modifier le "+r(g(o.updated_at)),1)]),t("div",pt,[i(u(h),{prefetch:"",href:`/admin/products/description/${o.id}/edit`,class:"p-1 bg-blue-500 text-white rounded hover:bg-blue-600"},{default:f(()=>[i(u(q),{class:"w-4 h-4"})]),_:1},8,["href"]),t("button",{type:"button","aria-label":"Supprimer",title:"Supprimer",onClick:V=>$(o.id),class:"p-1 bg-red-500 text-white rounded hover:bg-red-600"},[i(u(G),{class:"w-4 h-4"})],8,ct)])]))),128))])])])])]),_:1})],64)}}});export{Vt as default};
