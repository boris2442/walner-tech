import{d as y,l as N,f as w,w as o,r as C,m as b,u as t,o as _,a as Q,L as O,y as U,e as r,b as m,j as p,i as S,D as L,h as M,g as F,A as R,V as Y,H as G,ah as J}from"./app-CDbjpaxz.js";import{q as v,a as K}from"./index-BdvXPHPK.js";import{i as W,D as X,e as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKgDDKsu.js";import{a as V,_ as te}from"./Layout.vue_vue_type_script_setup_true_lang-JlvvBVdQ.js";import{_ as $}from"./InputError.vue_vue_type_script_setup_true_lang-D8GBx6KT.js";import{P as re,c as se,_ as k}from"./index-ynvAPlp4.js";import{_ as ae,a as oe,b as le,c as ie,d as ue}from"./DialogTitle.vue_vue_type_script_setup_true_lang-ClcC7i--.js";import{a as ne}from"./useForwardExpose-KSvLQUC-.js";import{u as de}from"./RovingFocusGroup-Bou-HaR6.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-691QDdB2.js";import{_ as E}from"./Label.vue_vue_type_script_setup_true_lang-ncBduD3V.js";import{_ as me}from"./BackButton-CIV7wAAv.js";import"./VisuallyHidden-D8vWEEi6.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-CKPWTKH2.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DpUzOz8L.js";import"./index-DPQZ0Osy.js";import"./index-CmW3uWD4.js";import"./index-tr1hEk_S.js";var pe=y({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const s=e,l=W(),{forwardRef:a,currentElement:x}=ne();return l.contentId||=de(void 0,"reka-dialog-content"),N(()=>{l.triggerElement.value=x.value}),(i,h)=>(_(),w(t(re),b(s,{ref:t(a),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(l).open.value||!1,"aria-controls":t(l).open.value?t(l).contentId:void 0,"data-state":t(l).open.value?"open":"closed",onClick:t(l).onOpenToggle}),{default:o(()=>[C(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),ce=pe;const d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/settings/profile"};d.url=e=>d.definition.url+v(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const P=e=>({action:d.url(e),method:"get"});P.get=e=>({action:d.url(e),method:"get"});P.head=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});d.form=P;const f=e=>({url:f.url(e),method:"patch"});f.definition={methods:["patch"],url:"/settings/profile"};f.url=e=>f.definition.url+v(e);f.patch=e=>({url:f.url(e),method:"patch"});const B=e=>({action:f.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});B.patch=e=>({action:f.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});f.form=B;const g=e=>({url:g.url(e),method:"delete"});g.definition={methods:["delete"],url:"/settings/profile"};g.url=e=>g.definition.url+v(e);g.delete=e=>({url:g.url(e),method:"delete"});const j=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});j.delete=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});g.form=j;const z={edit:d,update:f,destroy:g},u=e=>({url:u.url(e),method:"get"});u.definition={methods:["get","head"],url:"/verify-email"};u.url=e=>u.definition.url+v(e);u.get=e=>({url:u.url(e),method:"get"});u.head=e=>({url:u.url(e),method:"head"});const T=e=>({action:u.url(e),method:"get"});T.get=e=>({action:u.url(e),method:"get"});T.head=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});u.form=T;const n=(e,s)=>({url:n.url(e,s),method:"get"});n.definition={methods:["get","head"],url:"/verify-email/{id}/{hash}"};n.url=(e,s)=>{Array.isArray(e)&&(e={id:e[0],hash:e[1]}),e=K(e);const l={id:e.id,hash:e.hash};return n.definition.url.replace("{id}",l.id.toString()).replace("{hash}",l.hash.toString()).replace(/\/+$/,"")+v(s)};n.get=(e,s)=>({url:n.url(e,s),method:"get"});n.head=(e,s)=>({url:n.url(e,s),method:"head"});const A=(e,s)=>({action:n.url(e,s),method:"get"});A.get=(e,s)=>({action:n.url(e,s),method:"get"});A.head=(e,s)=>({action:n.url(e,{[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});n.form=A;const c=e=>({url:c.url(e),method:"post"});c.definition={methods:["post"],url:"/email/verification-notification"};c.url=e=>c.definition.url+v(e);c.post=e=>({url:c.url(e),method:"post"});const H=e=>({action:c.url(e),method:"post"});H.post=e=>({action:c.url(e),method:"post"});c.form=H;Object.assign(u,u),Object.assign(n,n),Object.assign(c,c);const fe=y({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return(l,a)=>(_(),w(t(X),b({"data-slot":"dialog-close"},s),{default:o(()=>[C(l.$slots,"default")]),_:3},16))}}),ge=y({__name:"DialogFooter",props:{class:{}},setup(e){const s=e;return(l,a)=>(_(),Q("div",{"data-slot":"dialog-footer",class:O(t(se)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s.class))},[C(l.$slots,"default")],2))}}),_e=y({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return(l,a)=>(_(),w(t(ce),b({"data-slot":"dialog-trigger"},s),{default:o(()=>[C(l.$slots,"default")]),_:3},16))}}),he={class:"space-y-6"},ye={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},ve={class:"grid gap-2"},be=y({__name:"DeleteUser",setup(e){const s=U(null);return(l,a)=>(_(),Q("div",he,[r(V,{title:"Supprimer le compte",description:"Supprimez votre compte et toutes ses ressources"}),m("div",ye,[a[7]||(a[7]=m("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[m("p",{class:"font-medium"},"Avertissement"),m("p",{class:"text-sm"},"Veuillez procéder avec prudence, cela ne peut pas être annulé.")],-1)),r(t(ue),null,{default:o(()=>[r(t(_e),{"as-child":""},{default:o(()=>[r(t(k),{variant:"destructive"},{default:o(()=>[...a[1]||(a[1]=[p("Supprimer mon compte",-1)])]),_:1})]),_:1}),r(t(ae),null,{default:o(()=>[r(t(S),b(t(z).destroy.form(),{"reset-on-success":"",onError:a[0]||(a[0]=()=>s.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:o(({errors:x,processing:i,reset:h,clearErrors:D})=>[r(t(oe),{class:"space-y-3"},{default:o(()=>[r(t(le),null,{default:o(()=>[...a[2]||(a[2]=[p("Etes-vous sûr de vouloir supprimer votre compte ?",-1)])]),_:1}),r(t(ie),null,{default:o(()=>[...a[3]||(a[3]=[p(" Une fois votre compte supprimé, toutes ses ressources et données seront également supprimées définitivement. Veuillez saisir votre mot de passe pour confirmer la suppression définitive de votre compte. ",-1)])]),_:1})]),_:1}),m("div",ve,[r(t(E),{for:"password",class:"sr-only"},{default:o(()=>[...a[4]||(a[4]=[p("Mot de passe",-1)])]),_:1}),r(t(q),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:s,placeholder:"Password"},null,512),r($,{message:x.password},null,8,["message"])]),r(t(ge),{class:"gap-2"},{default:o(()=>[r(t(fe),{"as-child":""},{default:o(()=>[r(t(k),{variant:"secondary",onClick:()=>{D(),h()}},{default:o(()=>[...a[5]||(a[5]=[p(" Annuler ",-1)])]),_:1},8,["onClick"])]),_:2},1024),r(t(k),{type:"submit",variant:"destructive",disabled:i},{default:o(()=>[...a[6]||(a[6]=[p(" Supprimer le compte",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),xe={class:"flex flex-col space-y-6"},$e={class:"grid gap-2"},ke={class:"grid gap-2"},qe={class:"grid gap-2"},Ee={key:0},Qe={class:"-mt-4 text-sm text-muted-foreground"},we={key:0,class:"mt-2 text-sm font-medium text-green-600"},Ce={class:"flex items-center gap-4"},De={class:"text-sm text-neutral-600"},Je=y({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const s=[{title:"Profile settings",href:Z().url}],a=L().props.auth.user;return(x,i)=>(_(),w(ee,{breadcrumbs:s},{default:o(()=>[r(me,{class:"m-4"}),r(t(M),{title:"Profile settings"}),r(te,null,{default:o(()=>[m("div",xe,[r(V,{title:"Profile information",description:"Mettez à jour votre nom et votre adresse e-mail"}),r(t(S),b(t(z).update.form(),{class:"space-y-6"}),{default:o(({errors:h,processing:D,recentlySuccessful:I})=>[m("div",$e,[r(t(E),{for:"name"},{default:o(()=>[...i[0]||(i[0]=[p("Nom",-1)])]),_:1}),r(t(q),{id:"name",class:"mt-1 block w-full",name:"name","default-value":t(a).name,required:"",autocomplete:"name",placeholder:"Full name"},null,8,["default-value"]),r($,{class:"mt-2",message:h.name},null,8,["message"])]),m("div",ke,[r(t(E),{for:"email"},{default:o(()=>[...i[1]||(i[1]=[p("Email address",-1)])]),_:1}),r(t(q),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":t(a).email,required:"",autocomplete:"username",placeholder:"Email address"},null,8,["default-value"]),r($,{class:"mt-2",message:h.email},null,8,["message"])]),m("div",qe,[r(t(E),{for:"phone"},{default:o(()=>[...i[2]||(i[2]=[p("Téléphone",-1)])]),_:1}),r(t(q),{id:"phone",type:"text",class:"mt-1 block w-full",name:"phone","default-value":t(a).phone??"",required:"",autocomplete:"username",placeholder:"phone number"},null,8,["default-value"]),r($,{class:"mt-2",message:h.phone},null,8,["message"])]),e.mustVerifyEmail&&!t(a).email_verified_at?(_(),Q("div",Ee,[m("p",Qe,[i[4]||(i[4]=p(" Your email address is unverified. ",-1)),r(t(R),{href:t(c)(),as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:o(()=>[...i[3]||(i[3]=[p(" Cliquez ici pour renvoyer l'e-mail de vérification. ",-1)])]),_:1},8,["href"])]),e.status==="verification-link-sent"?(_(),Q("div",we," Un nouveau lien de vérification a été envoyé à votre adresse e-mail. ")):F("",!0)])):F("",!0),m("div",Ce,[r(t(k),{disabled:D,class:"bg-[var(--primary-blue)] text-[var(--dark-white)] px-4 py-2 rounded hover:opacity-90 hover:bg-blue-600 dark:bg-[var(--button-dark)]"},{default:o(()=>[...i[5]||(i[5]=[p("Enregistrer",-1)])]),_:1},8,["disabled"]),r(Y,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:o(()=>[G(m("p",De,"Enregistré.",512),[[J,I]])]),_:2},1024)])]),_:1},16)]),r(be)]),_:1})]),_:1}))}});export{Je as default};
